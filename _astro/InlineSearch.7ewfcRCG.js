import{t as Ct,o as Mt}from"./attributes.C4Y4pN9q.js";import{s as Ne,a as Te,b as yt,c as ye,d as Xe,h as L,e as Ze,E as Bt,r as qe,H as Dt,f as et,g as Be,i as he,j as ue,k as fe,l as de,p as De,U as Ft,m as ne,n as xt,o as It,q as y,t as bt,u as St,v as tt,w as wt,x as Oe,I as pe,y as st,z as ke,A as kt,B as Le,C as He,D as Lt,F as Rt,G as Nt,J as Tt,K as Ot,L as Ht,M as $t,N as Pt,O as Kt,P as jt,Q as zt,R as Wt,S as Yt,T as Vt,V as Ee,W as Ut,X as W,Y as N,Z as Gt,_ as K,$ as ce,a0 as T,a1 as O,a2 as $e,a3 as oe,a4 as Qt,a5 as re,a6 as Pe,a7 as Jt}from"./template.CvCTx1dv.js";import{s as V}from"./render.D1wpIiUo.js";import{q as Xt,a as Zt,b as qt}from"./this.BFkPkP5w.js";import"./events.DWh0XFaY.js";let Ke=!1;function rt(){Ke||(Ke=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function es(t){var e=yt,s=ye;Ne(null),Te(null);try{return t()}finally{Ne(e),Te(s)}}function ts(t,e,s,r=s){t.addEventListener(e,()=>es(s));const n=t.__on_r;n?t.__on_r=()=>{n(),r(!0)}:t.__on_r=()=>r(!0),rt()}function Z(t,e,[s,r]=[0,0]){L&&s===0&&Ze();var n=t,i=null,a=null,u=Ft,c=s>0?Bt:0,o=!1;const l=(h,g=!0)=>{o=!0,v(g,h)},v=(h,g)=>{if(u===(u=h))return;let d=!1;if(L&&r!==-1){if(s===0){const M=qe(n);M===Dt?r=0:M===et?r=1/0:(r=parseInt(M.substring(1)),r!==r&&(r=u?1/0:-1))}const B=r>s;!!u===B&&(n=Be(),he(n),ue(!1),d=!0,r=-1)}u?(i?fe(i):g&&(i=de(()=>g(n))),a&&De(a,()=>{a=null})):(a?fe(a):g&&(a=de(()=>g(n,[s+1,r]))),i&&De(i,()=>{i=null})),d&&ue(!0)};Xe(()=>{o=!1,e(l),o||v(null,null)},c),L&&(n=ne)}function je(t,e){return e}function ss(t,e,s,r){for(var n=[],i=e.length,a=0;a<i;a++)Lt(e[a].e,n,!0);var u=i>0&&n.length===0&&s!==null;if(u){var c=s.parentNode;Rt(c),c.append(s),r.clear(),U(t,e[0].prev,e[i-1].next)}Nt(n,()=>{for(var o=0;o<i;o++){var l=e[o];u||(r.delete(l.k),U(t,l.prev,l.next)),Tt(l.e,!u)}})}function ze(t,e,s,r,n,i=null){var a=t,u={flags:e,items:new Map,first:null},c=(e&tt)!==0;if(c){var o=t;a=L?he(xt(o)):o.appendChild(It())}L&&Ze();var l=null,v=!1,h=bt(()=>{var g=s();return Ht(g)?g:g==null?[]:st(g)});Xe(()=>{var g=y(h),d=g.length;if(v&&d===0)return;v=d===0;let B=!1;if(L){var M=qe(a)===et;M!==(d===0)&&(a=Be(),he(a),ue(!1),B=!0)}if(L){for(var D=null,F,x=0;x<d;x++){if(ne.nodeType===8&&ne.data===St){a=ne,B=!0,ue(!1);break}var p=g[x],f=r(p,x);F=nt(ne,u,D,null,p,f,x,n,e,s),u.items.set(f,F),D=F}d>0&&he(Be())}L||rs(g,u,a,n,e,r,s),i!==null&&(d===0?l?fe(l):l=de(()=>i(a)):l!==null&&De(l,()=>{l=null})),B&&ue(!0),y(h)}),L&&(a=ne)}function rs(t,e,s,r,n,i,a){var u=(n&kt)!==0,c=(n&(Le|ke))!==0,o=t.length,l=e.items,v=e.first,h=v,g,d=null,B,M=[],D=[],F,x,p,f;if(u)for(f=0;f<o;f+=1)F=t[f],x=i(F,f),p=l.get(x),p!==void 0&&(p.a?.measure(),(B??=new Set).add(p));for(f=0;f<o;f+=1){if(F=t[f],x=i(F,f),p=l.get(x),p===void 0){var m=h?h.e.nodes_start:s;d=nt(m,e,d,d===null?e.first:d.next,F,x,f,r,n,a),l.set(x,d),M=[],D=[],h=d.next;continue}if(c&&ns(p,F,f,n),(p.e.f&pe)!==0&&(fe(p.e),u&&(p.a?.unfix(),(B??=new Set).delete(p))),p!==h){if(g!==void 0&&g.has(p)){if(M.length<D.length){var A=D[0],C;d=A.prev;var E=M[0],w=M[M.length-1];for(C=0;C<M.length;C+=1)We(M[C],A,s);for(C=0;C<D.length;C+=1)g.delete(D[C]);U(e,E.prev,w.next),U(e,d,E),U(e,w,A),h=A,d=w,f-=1,M=[],D=[]}else g.delete(p),We(p,h,s),U(e,p.prev,p.next),U(e,p,d===null?e.first:d.next),U(e,d,p),d=p;continue}for(M=[],D=[];h!==null&&h.k!==x;)(h.e.f&pe)===0&&(g??=new Set).add(h),D.push(h),h=h.next;if(h===null)continue;p=h}M.push(p),d=p,h=p.next}if(h!==null||g!==void 0){for(var I=g===void 0?[]:st(g);h!==null;)(h.e.f&pe)===0&&I.push(h),h=h.next;var b=I.length;if(b>0){var ee=(n&tt)!==0&&o===0?s:null;if(u){for(f=0;f<b;f+=1)I[f].a?.measure();for(f=0;f<b;f+=1)I[f].a?.fix()}ss(e,I,ee,l)}}u&&Xt(()=>{if(B!==void 0)for(p of B)p.a?.apply()}),ye.first=e.first&&e.first.e,ye.last=d&&d.e}function ns(t,e,s,r){(r&Le)!==0&&He(t.v,e),(r&ke)!==0?He(t.i,s):t.i=s}function nt(t,e,s,r,n,i,a,u,c,o){var l=(c&Le)!==0,v=(c&Ot)===0,h=l?v?wt(n,!1,!1):Oe(n):n,g=(c&ke)===0?a:Oe(a),d={i:g,v:h,k:i,a:null,e:null,prev:s,next:r};try{return d.e=de(()=>u(t,h,g,o),L),d.e.prev=s&&s.e,d.e.next=r&&r.e,s===null?e.first=d:(s.next=d,s.e.next=d.e),r!==null&&(r.prev=d,r.e.prev=d.e),d}finally{}}function We(t,e,s){for(var r=t.next?t.next.e.nodes_start:s,n=e?e.e.nodes_start:s,i=t.e.nodes_start;i!==r;){var a=$t(i);n.before(i),i=a}}function U(t,e,s){e===null?t.first=s:(e.next=s,e.e.next=s&&s.e),s!==null&&(s.prev=e,s.e.prev=e&&e.e)}function is(t,e,s,r){var n=t.__style;if(L||n!==e){var i=Ct(e);(!L||i!==t.getAttribute("style"))&&(i==null?t.removeAttribute("style"):t.style.cssText=i),t.__style=e}return r}const as=Symbol("is custom element"),us=Symbol("is html");function cs(t){if(L){var e=!1,s=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var r=t.value;ge(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var n=t.checked;ge(t,"checked",null),t.checked=n}}};t.__on_r=s,Zt(s),rt()}}function ge(t,e,s,r){var n=os(t);L&&(n[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||n[e]!==(n[e]=s)&&(e==="loading"&&(t[Pt]=s),s==null?t.removeAttribute(e):typeof s!="string"&&ls(t).includes(e)?t[e]=s:t.setAttribute(e,s))}function os(t){return t.__attributes??={[as]:t.nodeName.includes("-"),[us]:t.namespaceURI===Kt}}var Ye=new Map;function ls(t){var e=Ye.get(t.nodeName);if(e)return e;Ye.set(t.nodeName,e=[]);for(var s,r=t,n=Element.prototype;n!==r;){s=zt(r);for(var i in s)s[i].set&&e.push(i);r=jt(r)}return e}function hs(t,e,s=e){ts(t,"input",r=>{var n=r?t.defaultValue:t.value;if(n=me(t)?Ce(n):n,s(n),n!==(n=e())){var i=t.selectionStart,a=t.selectionEnd;t.value=n??"",a!==null&&(t.selectionStart=i,t.selectionEnd=Math.min(a,t.value.length))}}),(L&&t.defaultValue!==t.value||Wt(e)==null&&t.value)&&s(me(t)?Ce(t.value):t.value),Yt(()=>{var r=e();me(t)&&r===Ce(t.value)||t.type==="date"&&!r&&!t.value||r!==t.value&&(t.value=r??"")})}function me(t){var e=t.type;return e==="number"||e==="range"}function Ce(t){return t===""?null:+t}function z(t){return Array.isArray?Array.isArray(t):ut(t)==="[object Array]"}function fs(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function ds(t){return t==null?"":fs(t)}function j(t){return typeof t=="string"}function it(t){return typeof t=="number"}function gs(t){return t===!0||t===!1||vs(t)&&ut(t)=="[object Boolean]"}function at(t){return typeof t=="object"}function vs(t){return at(t)&&t!==null}function H(t){return t!=null}function Me(t){return!t.trim().length}function ut(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const _s="Incorrect 'index' type",As=t=>`Invalid value for key ${t}`,ps=t=>`Pattern length exceeds max of ${t}.`,Es=t=>`Missing ${t} property in key`,ms=t=>`Property 'weight' in key '${t}' must be a positive integer`,Ve=Object.prototype.hasOwnProperty;class Cs{constructor(e){this._keys=[],this._keyMap={};let s=0;e.forEach(r=>{let n=ct(r);this._keys.push(n),this._keyMap[n.id]=n,s+=n.weight}),this._keys.forEach(r=>{r.weight/=s})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function ct(t){let e=null,s=null,r=null,n=1,i=null;if(j(t)||z(t))r=t,e=Ue(t),s=Fe(t);else{if(!Ve.call(t,"name"))throw new Error(Es("name"));const a=t.name;if(r=a,Ve.call(t,"weight")&&(n=t.weight,n<=0))throw new Error(ms(a));e=Ue(a),s=Fe(a),i=t.getFn}return{path:e,id:s,weight:n,src:r,getFn:i}}function Ue(t){return z(t)?t:t.split(".")}function Fe(t){return z(t)?t.join("."):t}function Ms(t,e){let s=[],r=!1;const n=(i,a,u)=>{if(H(i))if(!a[u])s.push(i);else{let c=a[u];const o=i[c];if(!H(o))return;if(u===a.length-1&&(j(o)||it(o)||gs(o)))s.push(ds(o));else if(z(o)){r=!0;for(let l=0,v=o.length;l<v;l+=1)n(o[l],a,u+1)}else a.length&&n(o,a,u+1)}};return n(t,j(e)?e.split("."):e,0),r?s:s[0]}const ys={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Bs={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},Ds={location:0,threshold:.6,distance:100},Fs={useExtendedSearch:!1,getFn:Ms,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var _={...Bs,...ys,...Ds,...Fs};const xs=/[^ ]+/g;function Is(t=1,e=3){const s=new Map,r=Math.pow(10,e);return{get(n){const i=n.match(xs).length;if(s.has(i))return s.get(i);const a=1/Math.pow(i,.5*t),u=parseFloat(Math.round(a*r)/r);return s.set(i,u),u},clear(){s.clear()}}}class Re{constructor({getFn:e=_.getFn,fieldNormWeight:s=_.fieldNormWeight}={}){this.norm=Is(s,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((s,r)=>{this._keysMap[s.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,j(this.docs[0])?this.docs.forEach((e,s)=>{this._addString(e,s)}):this.docs.forEach((e,s)=>{this._addObject(e,s)}),this.norm.clear())}add(e){const s=this.size();j(e)?this._addString(e,s):this._addObject(e,s)}removeAt(e){this.records.splice(e,1);for(let s=e,r=this.size();s<r;s+=1)this.records[s].i-=1}getValueForItemAtKeyId(e,s){return e[this._keysMap[s]]}size(){return this.records.length}_addString(e,s){if(!H(e)||Me(e))return;let r={v:e,i:s,n:this.norm.get(e)};this.records.push(r)}_addObject(e,s){let r={i:s,$:{}};this.keys.forEach((n,i)=>{let a=n.getFn?n.getFn(e):this.getFn(e,n.path);if(H(a)){if(z(a)){let u=[];const c=[{nestedArrIndex:-1,value:a}];for(;c.length;){const{nestedArrIndex:o,value:l}=c.pop();if(H(l))if(j(l)&&!Me(l)){let v={v:l,i:o,n:this.norm.get(l)};u.push(v)}else z(l)&&l.forEach((v,h)=>{c.push({nestedArrIndex:h,value:v})})}r.$[i]=u}else if(j(a)&&!Me(a)){let u={v:a,n:this.norm.get(a)};r.$[i]=u}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function ot(t,e,{getFn:s=_.getFn,fieldNormWeight:r=_.fieldNormWeight}={}){const n=new Re({getFn:s,fieldNormWeight:r});return n.setKeys(t.map(ct)),n.setSources(e),n.create(),n}function bs(t,{getFn:e=_.getFn,fieldNormWeight:s=_.fieldNormWeight}={}){const{keys:r,records:n}=t,i=new Re({getFn:e,fieldNormWeight:s});return i.setKeys(r),i.setIndexRecords(n),i}function le(t,{errors:e=0,currentLocation:s=0,expectedLocation:r=0,distance:n=_.distance,ignoreLocation:i=_.ignoreLocation}={}){const a=e/t.length;if(i)return a;const u=Math.abs(r-s);return n?a+u/n:u?1:a}function Ss(t=[],e=_.minMatchCharLength){let s=[],r=-1,n=-1,i=0;for(let a=t.length;i<a;i+=1){let u=t[i];u&&r===-1?r=i:!u&&r!==-1&&(n=i-1,n-r+1>=e&&s.push([r,n]),r=-1)}return t[i-1]&&i-r>=e&&s.push([r,i-1]),s}const q=32;function ws(t,e,s,{location:r=_.location,distance:n=_.distance,threshold:i=_.threshold,findAllMatches:a=_.findAllMatches,minMatchCharLength:u=_.minMatchCharLength,includeMatches:c=_.includeMatches,ignoreLocation:o=_.ignoreLocation}={}){if(e.length>q)throw new Error(ps(q));const l=e.length,v=t.length,h=Math.max(0,Math.min(r,v));let g=i,d=h;const B=u>1||c,M=B?Array(v):[];let D;for(;(D=t.indexOf(e,d))>-1;){let A=le(e,{currentLocation:D,expectedLocation:h,distance:n,ignoreLocation:o});if(g=Math.min(A,g),d=D+l,B){let C=0;for(;C<l;)M[D+C]=1,C+=1}}d=-1;let F=[],x=1,p=l+v;const f=1<<l-1;for(let A=0;A<l;A+=1){let C=0,E=p;for(;C<E;)le(e,{errors:A,currentLocation:h+E,expectedLocation:h,distance:n,ignoreLocation:o})<=g?C=E:p=E,E=Math.floor((p-C)/2+C);p=E;let w=Math.max(1,h-E+1),I=a?v:Math.min(h+E,v)+l,b=Array(I+2);b[I+1]=(1<<A)-1;for(let k=I;k>=w;k-=1){let Y=k-1,Q=s[t.charAt(Y)];if(B&&(M[Y]=+!!Q),b[k]=(b[k+1]<<1|1)&Q,A&&(b[k]|=(F[k+1]|F[k])<<1|1|F[k+1]),b[k]&f&&(x=le(e,{errors:A,currentLocation:Y,expectedLocation:h,distance:n,ignoreLocation:o}),x<=g)){if(g=x,d=Y,d<=h)break;w=Math.max(1,2*h-d)}}if(le(e,{errors:A+1,currentLocation:h,expectedLocation:h,distance:n,ignoreLocation:o})>g)break;F=b}const m={isMatch:d>=0,score:Math.max(.001,x)};if(B){const A=Ss(M,u);A.length?c&&(m.indices=A):m.isMatch=!1}return m}function ks(t){let e={};for(let s=0,r=t.length;s<r;s+=1){const n=t.charAt(s);e[n]=(e[n]||0)|1<<r-s-1}return e}const ve=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class lt{constructor(e,{location:s=_.location,threshold:r=_.threshold,distance:n=_.distance,includeMatches:i=_.includeMatches,findAllMatches:a=_.findAllMatches,minMatchCharLength:u=_.minMatchCharLength,isCaseSensitive:c=_.isCaseSensitive,ignoreDiacritics:o=_.ignoreDiacritics,ignoreLocation:l=_.ignoreLocation}={}){if(this.options={location:s,threshold:r,distance:n,includeMatches:i,findAllMatches:a,minMatchCharLength:u,isCaseSensitive:c,ignoreDiacritics:o,ignoreLocation:l},e=c?e:e.toLowerCase(),e=o?ve(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const v=(g,d)=>{this.chunks.push({pattern:g,alphabet:ks(g),startIndex:d})},h=this.pattern.length;if(h>q){let g=0;const d=h%q,B=h-d;for(;g<B;)v(this.pattern.substr(g,q),g),g+=q;if(d){const M=h-q;v(this.pattern.substr(M),M)}}else v(this.pattern,0)}searchIn(e){const{isCaseSensitive:s,ignoreDiacritics:r,includeMatches:n}=this.options;if(e=s?e:e.toLowerCase(),e=r?ve(e):e,this.pattern===e){let B={isMatch:!0,score:0};return n&&(B.indices=[[0,e.length-1]]),B}const{location:i,distance:a,threshold:u,findAllMatches:c,minMatchCharLength:o,ignoreLocation:l}=this.options;let v=[],h=0,g=!1;this.chunks.forEach(({pattern:B,alphabet:M,startIndex:D})=>{const{isMatch:F,score:x,indices:p}=ws(e,B,M,{location:i+D,distance:a,threshold:u,findAllMatches:c,minMatchCharLength:o,includeMatches:n,ignoreLocation:l});F&&(g=!0),h+=x,F&&p&&(v=[...v,...p])});let d={isMatch:g,score:g?h/this.chunks.length:1};return g&&n&&(d.indices=v),d}}class G{constructor(e){this.pattern=e}static isMultiMatch(e){return Ge(e,this.multiRegex)}static isSingleMatch(e){return Ge(e,this.singleRegex)}search(){}}function Ge(t,e){const s=t.match(e);return s?s[1]:null}class Ls extends G{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const s=e===this.pattern;return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class Rs extends G{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class Ns extends G{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const s=e.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class Ts extends G{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const s=!e.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}}class Os extends G{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const s=e.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class Hs extends G{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const s=!e.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}}class ht extends G{constructor(e,{location:s=_.location,threshold:r=_.threshold,distance:n=_.distance,includeMatches:i=_.includeMatches,findAllMatches:a=_.findAllMatches,minMatchCharLength:u=_.minMatchCharLength,isCaseSensitive:c=_.isCaseSensitive,ignoreDiacritics:o=_.ignoreDiacritics,ignoreLocation:l=_.ignoreLocation}={}){super(e),this._bitapSearch=new lt(e,{location:s,threshold:r,distance:n,includeMatches:i,findAllMatches:a,minMatchCharLength:u,isCaseSensitive:c,ignoreDiacritics:o,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class ft extends G{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let s=0,r;const n=[],i=this.pattern.length;for(;(r=e.indexOf(this.pattern,s))>-1;)s=r+i,n.push([r,s-1]);const a=!!n.length;return{isMatch:a,score:a?0:1,indices:n}}}const xe=[Ls,ft,Ns,Ts,Hs,Os,Rs,ht],Qe=xe.length,$s=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Ps="|";function Ks(t,e={}){return t.split(Ps).map(s=>{let r=s.trim().split($s).filter(i=>i&&!!i.trim()),n=[];for(let i=0,a=r.length;i<a;i+=1){const u=r[i];let c=!1,o=-1;for(;!c&&++o<Qe;){const l=xe[o];let v=l.isMultiMatch(u);v&&(n.push(new l(v,e)),c=!0)}if(!c)for(o=-1;++o<Qe;){const l=xe[o];let v=l.isSingleMatch(u);if(v){n.push(new l(v,e));break}}}return n})}const js=new Set([ht.type,ft.type]);class zs{constructor(e,{isCaseSensitive:s=_.isCaseSensitive,ignoreDiacritics:r=_.ignoreDiacritics,includeMatches:n=_.includeMatches,minMatchCharLength:i=_.minMatchCharLength,ignoreLocation:a=_.ignoreLocation,findAllMatches:u=_.findAllMatches,location:c=_.location,threshold:o=_.threshold,distance:l=_.distance}={}){this.query=null,this.options={isCaseSensitive:s,ignoreDiacritics:r,includeMatches:n,minMatchCharLength:i,findAllMatches:u,ignoreLocation:a,location:c,threshold:o,distance:l},e=s?e:e.toLowerCase(),e=r?ve(e):e,this.pattern=e,this.query=Ks(this.pattern,this.options)}static condition(e,s){return s.useExtendedSearch}searchIn(e){const s=this.query;if(!s)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:n,ignoreDiacritics:i}=this.options;e=n?e:e.toLowerCase(),e=i?ve(e):e;let a=0,u=[],c=0;for(let o=0,l=s.length;o<l;o+=1){const v=s[o];u.length=0,a=0;for(let h=0,g=v.length;h<g;h+=1){const d=v[h],{isMatch:B,indices:M,score:D}=d.search(e);if(B){if(a+=1,c+=D,r){const F=d.constructor.type;js.has(F)?u=[...u,...M]:u.push(M)}}else{c=0,a=0,u.length=0;break}}if(a){let h={isMatch:!0,score:c/a};return r&&(h.indices=u),h}}return{isMatch:!1,score:1}}}const Ie=[];function Ws(...t){Ie.push(...t)}function be(t,e){for(let s=0,r=Ie.length;s<r;s+=1){let n=Ie[s];if(n.condition(t,e))return new n(t,e)}return new lt(t,e)}const _e={AND:"$and",OR:"$or"},Se={PATH:"$path",PATTERN:"$val"},we=t=>!!(t[_e.AND]||t[_e.OR]),Ys=t=>!!t[Se.PATH],Vs=t=>!z(t)&&at(t)&&!we(t),Je=t=>({[_e.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function dt(t,e,{auto:s=!0}={}){const r=n=>{let i=Object.keys(n);const a=Ys(n);if(!a&&i.length>1&&!we(n))return r(Je(n));if(Vs(n)){const c=a?n[Se.PATH]:i[0],o=a?n[Se.PATTERN]:n[c];if(!j(o))throw new Error(As(c));const l={keyId:Fe(c),pattern:o};return s&&(l.searcher=be(o,e)),l}let u={children:[],operator:i[0]};return i.forEach(c=>{const o=n[c];z(o)&&o.forEach(l=>{u.children.push(r(l))})}),u};return we(t)||(t=Je(t)),r(t)}function Us(t,{ignoreFieldNorm:e=_.ignoreFieldNorm}){t.forEach(s=>{let r=1;s.matches.forEach(({key:n,norm:i,score:a})=>{const u=n?n.weight:null;r*=Math.pow(a===0&&u?Number.EPSILON:a,(u||1)*(e?1:i))}),s.score=r})}function Gs(t,e){const s=t.matches;e.matches=[],H(s)&&s.forEach(r=>{if(!H(r.indices)||!r.indices.length)return;const{indices:n,value:i}=r;let a={indices:n,value:i};r.key&&(a.key=r.key.src),r.idx>-1&&(a.refIndex=r.idx),e.matches.push(a)})}function Qs(t,e){e.score=t.score}function Js(t,e,{includeMatches:s=_.includeMatches,includeScore:r=_.includeScore}={}){const n=[];return s&&n.push(Gs),r&&n.push(Qs),t.map(i=>{const{idx:a}=i,u={item:e[a],refIndex:a};return n.length&&n.forEach(c=>{c(i,u)}),u})}class ie{constructor(e,s={},r){this.options={..._,...s},this.options.useExtendedSearch,this._keyStore=new Cs(this.options.keys),this.setCollection(e,r)}setCollection(e,s){if(this._docs=e,s&&!(s instanceof Re))throw new Error(_s);this._myIndex=s||ot(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){H(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const s=[];for(let r=0,n=this._docs.length;r<n;r+=1){const i=this._docs[r];e(i,r)&&(this.removeAt(r),r-=1,n-=1,s.push(i))}return s}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:s=-1}={}){const{includeMatches:r,includeScore:n,shouldSort:i,sortFn:a,ignoreFieldNorm:u}=this.options;let c=j(e)?j(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Us(c,{ignoreFieldNorm:u}),i&&c.sort(a),it(s)&&s>-1&&(c=c.slice(0,s)),Js(c,this._docs,{includeMatches:r,includeScore:n})}_searchStringList(e){const s=be(e,this.options),{records:r}=this._myIndex,n=[];return r.forEach(({v:i,i:a,n:u})=>{if(!H(i))return;const{isMatch:c,score:o,indices:l}=s.searchIn(i);c&&n.push({item:i,idx:a,matches:[{score:o,value:i,norm:u,indices:l}]})}),n}_searchLogical(e){const s=dt(e,this.options),r=(u,c,o)=>{if(!u.children){const{keyId:v,searcher:h}=u,g=this._findMatches({key:this._keyStore.get(v),value:this._myIndex.getValueForItemAtKeyId(c,v),searcher:h});return g&&g.length?[{idx:o,item:c,matches:g}]:[]}const l=[];for(let v=0,h=u.children.length;v<h;v+=1){const g=u.children[v],d=r(g,c,o);if(d.length)l.push(...d);else if(u.operator===_e.AND)return[]}return l},n=this._myIndex.records,i={},a=[];return n.forEach(({$:u,i:c})=>{if(H(u)){let o=r(s,u,c);o.length&&(i[c]||(i[c]={idx:c,item:u,matches:[]},a.push(i[c])),o.forEach(({matches:l})=>{i[c].matches.push(...l)}))}}),a}_searchObjectList(e){const s=be(e,this.options),{keys:r,records:n}=this._myIndex,i=[];return n.forEach(({$:a,i:u})=>{if(!H(a))return;let c=[];r.forEach((o,l)=>{c.push(...this._findMatches({key:o,value:a[l],searcher:s}))}),c.length&&i.push({idx:u,item:a,matches:c})}),i}_findMatches({key:e,value:s,searcher:r}){if(!H(s))return[];let n=[];if(z(s))s.forEach(({v:i,i:a,n:u})=>{if(!H(i))return;const{isMatch:c,score:o,indices:l}=r.searchIn(i);c&&n.push({score:o,key:e,value:i,idx:a,norm:u,indices:l})});else{const{v:i,n:a}=s,{isMatch:u,score:c,indices:o}=r.searchIn(i);u&&n.push({score:c,key:e,value:i,norm:a,indices:o})}return n}}ie.version="7.1.0";ie.createIndex=ot;ie.parseIndex=bs;ie.config=_;ie.parseQuery=dt;Ws(zs);var Xs=W('<div class="loading-item p-4 flex gap-4 animate-pulse"><div class="icon-container text-xl"><div class="i-mingcute:file-line"></div></div> <div class="result-body w-full"><div class="loading-title h-4 bg-base-content/30 mb-2 rounded-lg"></div> <div class="loading-content h-4 w-full bg-base-content/15 mb-2 rounded-lg"></div></div></div>'),Zs=W('<div class="i-mingcute:file-line"></div>'),qs=W('<div class="i-mingcute:tag-line"></div>'),er=W('<div class="i-mingcute:folder-2-line"></div>'),tr=W(" <mark> </mark> ",1),sr=W(" <mark> </mark> ",1),rr=W('<div class="result-content break-anywhere line-clamp-1"><!></div>'),nr=W('<div class="result-item p-4 flex gap-4 hover:bg-primary/10 clickable"><a class="clickable-bkg-link" data-astro-prefetch=""></a> <div class="icon-container text-xl"><!></div> <div class="result-body"><div class="result-title font-bold"><!></div> <!></div></div>'),ir=W(`<div class="search-box w-full"><div class="search-input-box w-full mt-2 p-2
    flex items-center gap-2
    rounded-lg border border-base-300
    hover:border-primary/60
  "><div class="i-mingcute:search-3-line"></div> <input id="inline-search-input" name="search-input" aria-label="搜索" class="border-none! outline-none! grow text-lg" type="text" placeholder="搜索博客文章、页面、标签、分类……"/></div> <div class="search-results-container mt-4"><div class="results-list flex flex-col gap-2"><!></div></div></div>`);function hr(t,e){Vt(e,!0);const s=10;let r=Ee(""),n=Ee(!0),i,a=Ee(Ut([])),u;Mt(async()=>{ce(a,await fetch("/search-data.json").then(f=>f.json()),!0),ce(n,!1),ce(a,y(a).map((f,m)=>({...f,id:m})),!0),u=new ie(y(a),{keys:["title","content","url"],useExtendedSearch:!0,ignoreLocation:!0,includeMatches:!0,includeScore:!0,minMatchCharLength:2}),i?.focus()});let c=Jt(()=>{const f=y(r).trim();if(!f)return y(a);const m=new Map;for(const A of o(f))m.set(A.url,A);for(const A of u?.search(y(r),{limit:s}).map(C=>h(C))??[])m.set(A.url,A);return[...m.values()]});function o(f){const m=[];f=f.toLowerCase();for(const A of y(a)){if(m.length>=s)break;const C=l(A.title,f),E=A.content?l(A.content,f):void 0;(C||E)&&m.push({...A,titleHighlight:C,highlight:E})}return m}function l(f,m){const A=f.toLowerCase().indexOf(m);if(A===-1)return;const C=A+m.length;return[f.slice(Math.max(0,A-30),A),f.slice(A,C),f.slice(C)]}function v(f){const m=f.value;if(!m||f.indices.length<1)return["","",""];const A=f.indices.reduce((I,b)=>{const[ee,k]=I,[Y,Q]=b;return k-ee<Q-Y?b:I},f.indices[0]),[C,E]=A,w=window.innerWidth>768?30:20;return[m.slice(Math.max(0,C-w),C),m.slice(C,E+1),m.slice(E+1)]}function h(f){if(!f.matches||f.matches.length<0)return f.item;const m={...f.item,highlight:void 0,titleHighlight:void 0};for(const A of f.matches)A.key==="title"?m.titleHighlight=v(A):A.key==="content"&&(m.highlight=v(A));return m}var g=ir(),d=T(g),B=K(T(d),2);cs(B),qt(B,f=>i=f,()=>i),O(d);var M=K(d,2),D=T(M),F=T(D);{var x=f=>{var m=$e(),A=oe(m);ze(A,16,()=>[20,20,12,13,10,12,19,11,18,16],je,(C,E)=>{var w=Xs(),I=K(T(w),2),b=T(I);Qt(2),O(I),O(w),re(()=>is(b,`width: ${E}em`)),N(C,w)}),N(f,m)},p=f=>{var m=$e(),A=oe(m);ze(A,17,()=>y(c).slice(0,s),je,(C,E)=>{var w=nr(),I=T(w),b=K(I,2),ee=T(b);{var k=S=>{var R=Zs();N(S,R)},Y=(S,R)=>{{var te=P=>{var $=qs();N(P,$)},J=(P,$)=>{{var X=se=>{var ae=er();N(se,ae)};Z(P,se=>{y(E).type==="category"&&se(X)},$)}};Z(S,P=>{y(E).type==="tag"?P(te):P(J,!1)},R)}};Z(ee,S=>{y(E).type==="post"||y(E).type==="page"?S(k):S(Y,!1)})}O(b);var Q=K(b,2),Ae=T(Q),gt=T(Ae);{var vt=S=>{var R=tr(),te=oe(R,!0),J=K(te),P=T(J,!0);O(J);var $=K(J,1,!0);re(()=>{V(te,y(E).titleHighlight[0]),V(P,y(E).titleHighlight[1]),V($,y(E).titleHighlight[2])}),N(S,R)},_t=S=>{var R=Pe();re(()=>V(R,y(E).title)),N(S,R)};Z(gt,S=>{y(E).titleHighlight?S(vt):S(_t,!1)})}O(Ae);var At=K(Ae,2);{var pt=S=>{var R=rr(),te=T(R);{var J=$=>{var X=sr(),se=oe(X,!0),ae=K(se),Et=T(ae,!0);O(ae);var mt=K(ae,1,!0);re(()=>{V(se,y(E).highlight[0]),V(Et,y(E).highlight[1]),V(mt,y(E).highlight[2])}),N($,X)},P=$=>{var X=Pe();re(()=>V(X,y(E).content)),N($,X)};Z(te,$=>{y(E).highlight?$(J):$(P,!1)})}O(R),N(S,R)};Z(At,S=>{(y(E).type==="post"||y(E).type==="page")&&S(pt)})}O(Q),O(w),re(()=>{ge(I,"href",y(E).url),ge(I,"aria-label",y(E).title)}),N(C,w)}),N(f,m)};Z(F,f=>{y(n)?f(x):f(p,!1)})}O(D),O(M),O(g),hs(B,()=>y(r),f=>ce(r,f)),N(t,g),Gt()}export{hr as default};
